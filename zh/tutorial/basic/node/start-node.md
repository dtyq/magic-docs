# 开始节点
## 什么是开始节点？
开始节点是工作流的起点，就像一个发令枪，它决定了工作流何时开始运行以及如何接收初始数据。每个工作流都必须有一个开始节点，它是整个流程的入口点。开始节点主要负责接收系统输入（如会话信息、消息内容）、用户信息和自定义参数，并将这些信息传递给工作流中的后续节点。

**图片说明：**

开始节点界面主要由几个部分组成：顶部包含节点标题和触发条件描述；中间区域包括系统输入（如会话ID、话题ID、消息内容等）、文件列表和用户信息；底部区域支持配置自定义系统输入和大模型参数输入。通过这些配置，您可以控制工作流的启动条件和初始数据。

![开始节点](https://cdn.letsmagic.cn/static/img/start-node-1.png)

## 为什么需要开始节点？
在构建工作流时，开始节点是不可或缺的，因为它解决了以下关键问题：
1. **确定工作流的触发条件**：开始节点明确了工作流何时启动，比如当用户发送消息时、定时触发或作为子流程/工具被调用时。
2. **接收并格式化初始数据**：开始节点负责收集工作流运行所需的初始数据，如用户发送的消息内容、用户信息或其他系统数据。
3. **连接外部世界与工作流**：开始节点是外部事件（如用户交互）与工作流系统之间的桥梁，确保数据正确流入工作流。
4. **标准化数据处理**：开始节点将不同来源的数据统一格式化，便于后续节点处理。

## 适用场景
### 1. 用户对话触发
当用户向AI 助理发送消息时，开始节点接收消息内容和相关信息，启动对话处理流程。这是最常见的使用场景，适用于问答助手、客服机器人等应用。
### 2. 定时任务
设置开始节点在特定时间触发，执行定期的工作流任务，如数据统计、报表生成或定期提醒等功能。
### 3. 子流程和工具调用
当主流程需要执行可复用的子任务时，可以通过参数调用以开始节点为入口的子流程或工具，并传递数据，实现流程的模块化和复用。子流程和工具都支持参数调用，让您能够构建更灵活、可重用的工作流组件。
## 节点参数说明
### 系统输入参数
系统输入是平台自动提供的基础信息，您可以直接在流程中使用：
|参数名称|描述|数据类型|使用说明|
|---|---|---|---|
|会话ID|用户与AI 助理交互的唯一会话标识|字符串|用于识别和管理对话上下文|
|话题ID|当前对话的主题标识|字符串|用于区分同一会话中的不同主题|
|消息内容|用户发送的文本消息|字符串|工作流处理的主要内容|
|消息类型|消息的类型标识|字符串|如text(文本)、image(图片)等|
|发送时间|消息的发送时间戳|字符串|记录消息的时间信息|
|组织编码|当前用户所属组织的编码|字符串|用于组织级别的功能和权限管理|

### 文件列表参数
当用户上传文件时，可以获取文件的相关信息：
|参数名称|描述|数据类型|使用说明|
|---|---|---|---|
|文件名称|上传文件的原始名称|字符串|用于展示和处理文件|
|文件链接|文件访问的URL地址|字符串|用于下载或访问文件内容|
|文件扩展名|文件的格式后缀|字符串|如pdf、docx、xlsx等|
|文件大小|文件的字节大小|数字|用于文件处理控制|

### 用户信息参数
系统提供的用户基本信息，可用于个性化处理：
|参数名称|描述|数据类型|使用说明|
|---|---|---|---|
|用户ID|用户的唯一标识|字符串|用于用户识别和数据关联|
|用户昵称|用户的显示名称|字符串|用于个性化交互|
|真实姓名|用户的实际姓名|字符串|用于正式场合的称呼|
|工号|用户在组织中的工号|字符串|用于企业内部标识|
|职位|用户在组织中的职位|字符串|用于角色相关的功能|
|部门|用户所属的部门|字符串|用于部门级别的功能和数据|

## 使用说明
### 基本配置步骤
1. **添加开始节点**：
    1. 创建新工作流时，系统自动添加开始节点
    2. 对于已有工作流，可从节点面板拖拽"开始节点"到画布上
2. **配置触发条件**：
    1. 默认情况下，开始节点在收到用户消息时触发
    2. 如需定时触发或其他特定条件，请在高级选项中设置
3. **查看系统输入**：
    1. 展开"系统输入"部分，了解可用的系统参数
    2. 这些参数会自动填充，无需手动配置
4. **配置自定义输入**（可选）：
    1. 点击"自定义系统输入"或"大模型参数输入"
    2. 点击"添加参数"按钮
    3. 设置参数名称、显示名称、参数类型和是否必填
    4. 添加参数描述以帮助理解参数用途
5. **连接后续节点**：
    1. 从开始节点拖出连接线，连接到下一个处理节点
    2. 确保工作流有一个清晰的执行路径
## 注意事项
### 参数命名规范
1. **避免特殊字符**：参数名应使用字母、数字和下划线，避免空格和特殊字符
2. **避免系统保留名**：不要使用与系统参数相同的名称，如"message"、"user_id"等
3. **命名一致性**：保持命名风格一致，便于维护和理解
### 数据类型匹配
1. **类型一致性**：确保参数的实际数据类型与定义的类型一致
2. **类型转换**：如需使用不同类型，在后续节点中进行显式转换
3. **复杂数据结构**：对于对象或数组类型，了解其内部结构再使用
### 触发条件控制
1. **避免过频触发**：对于定时触发的流程，设置合理的时间间隔
2. **条件精确性**：确保触发条件精确匹配业务需求，避免不必要的触发
3. **测试验证**：上线前充分测试触发条件，确保符合预期
## 常见问题
### 为什么我设置的自定义参数没有生效？
1. **检查参数名称**：确认参数名称没有拼写错误，区分大小写
2. **检查数据类型**：确认提供的数据与定义的参数类型匹配
3. **检查必填项**：确认所有必填参数都已提供值
4. **检查引用方式**：在后续节点中，确保正确引用了参数（使用`${参数名}`格式）
### 如何在一个工作流中使用多个开始节点？
1. **使用条件分支**：在开始节点后立即使用条件分支节点，根据不同输入条件走不同分支
2. **创建多个子流程/工具**：为不同入口场景创建独立的子流程或工具，然后在主流程中通过参数调用
3. **使用等待节点**：在流程中使用等待节点，允许在不同点接收新的触发
### 为什么我设置了触发条件但工作流没有执行？
1. **检查开关**：检查工作流是否已发布并启用
2. **确认触发时间**：调整触发条件的时间间隔
3. **检查权限设置**：确认系统权限设置允许工作流运行
4. **查看日志**：检查系统日志，查找潜在的错误信息或运行状态